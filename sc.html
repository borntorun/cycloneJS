<html>
  <body>
    <script src="/cyclone.js"></script>
    <script>
      (function() {
        var original = { date: new Date(), number: Math.random() };
        original.self = original;
        original.bastard = { self: original};

        var cloned = CY.clone(original);

        // They're different objects:
        console.log(original !== cloned);
        console.log(original.date !== cloned.date);

        // They're cyclical:
        console.log(original.self === original);
        console.log(cloned.self === cloned);

        // They contain equivalent values:
        console.log(original.number === cloned.number);
        console.log(Number(original.date) === Number(cloned.date));

        // Even nested cyclical references get updated.
        console.log("I HOPE IT'S... ", cloned.bastard.self === cloned);
      })();
    </script>
  </body>
</html>
